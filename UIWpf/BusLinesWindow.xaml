<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UIWpf"
        xmlns:BO="clr-namespace:BO;assembly=BL" x:Class="UIWpf.BusLinesWindow"
        mc:Ignorable="d"
        Title="BusLinesWindow" Height="592.72" Width="936.117">
    <Window.Resources>
        <CollectionViewSource x:Key="busLineBLViewSource" d:DesignSource="{d:DesignInstance {x:Type BO:BusLineBL}, CreateList=True}"/>
    </Window.Resources>
    <Grid x:Name="MainGrid" Margin="0,0,-0.4,0" RenderTransformOrigin="0.724,0.46" >

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="242*"/>
            <ColumnDefinition Width="223*"/>

        </Grid.ColumnDefinitions>
        <ListView x:Name="busLineBLListView" Grid.Column="1" ItemsSource="{Binding}" SelectionMode="Single" Margin="34,61,26.6,279.2" SelectionChanged="busLineBLListView_SelectionChanged" >
            <ListView.View>
                <GridView>
                    <GridViewColumn x:Name="busNumLineColumn" Width="60" Header="מספר קו">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Margin="-6,-1" Text="{Binding BusNumLine}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="areaAtLandColumn" Width="68" Header="אזור פעילות">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Margin="6,-1,-6,-1" Text="{Binding AreaAtLand}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <GridViewColumn x:Name="firstStationColumn" Width="135" Header="תחנת מוצא">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Margin="-6,-1" Text="{Binding FirstStation.StationName}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn x:Name="lastStationColumn" Width="135" Header="תחנה סופית">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Margin="-6,-1" Text="{Binding LastStation.StationName}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
            <ListView.ItemContainerStyle>
                <Style>
                    <Setter Property="Control.HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="Control.VerticalContentAlignment" Value="Stretch"/>
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>
        <Button x:Name="addBusLine" Content="הוספת קו אוטובוס" HorizontalAlignment="Left" Margin="134,306,0,0" VerticalAlignment="Top" Width="173" Height="45" Click="addBusLine_Click" Grid.Column="1"/>
        <Grid x:Name="DetailsGrid" Visibility="Visible" HorizontalAlignment="Left" Margin="24,36,0,0" VerticalAlignment="Top" Height="434" Width="410">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="188"/>
                <ColumnDefinition Width="Auto" MinWidth="154.4"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Label Content=":אזור פעילות" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,21,21,21" Grid.Row="2" VerticalAlignment="Center" Height="26" Width="74"/>
            <TextBlock x:Name="areaAtLandTextBlock" Grid.Column="0" HorizontalAlignment="Right" Margin="0,21,142,31" Grid.Row="2" Text="{Binding AreaAtLand}" VerticalAlignment="Center" Height="16" Width="62" Grid.ColumnSpan="2"/>

            <Label Content=":מזהה הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,13.4,20,31" Grid.Row="1" VerticalAlignment="Center" Height="26" Width="64"/>
            <TextBlock x:Name="busIdTextBlock" Grid.Column="0" HorizontalAlignment="Right" Margin="0,22.4,142,32" Grid.Row="1" Text="{Binding BusId}" VerticalAlignment="Center" Height="16" Width="62" Grid.ColumnSpan="2"/>

            <Label Content=":מספר הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,5,20,39.6" Grid.Row="0" VerticalAlignment="Center" Height="25" Width="66"/>
            <TextBlock x:Name="busNumLineTextBlock" Grid.Column="0" HorizontalAlignment="Right" Margin="0,13,142,40.6" Grid.Row="0" Text="{Binding BusNumLine}" VerticalAlignment="Center" Height="16" Width="61" Grid.ColumnSpan="2"/>

            <Label Content=":תחנות הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,0,21,145.4" Grid.Row="3" VerticalAlignment="Bottom" Height="26" RenderTransformOrigin="1.012,-0.227" Width="69"/>
            <ListView x:Name="collectionOfStationListView" Grid.Column="0" DisplayMemberPath="CollectionOfStation" HorizontalAlignment="Left" Height="100" ItemsSource="{Binding}" Margin="18,49.6,0,40" Grid.Row="3" SelectionMode="Single" VerticalAlignment="Center" Width="326" Grid.ColumnSpan="2">
                <ListView.View>
                    <GridView>
                        <GridViewColumn x:Name="stationCode" Width="65" Header="קוד התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationCode}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="stationAddress" Width="120" Header="כתובת">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding Address}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="stationName" Width="120" Header="שם התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationName}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
            <Button x:Name="UpdateBusLine" Content="עדכון" IsEnabled="False" Grid.Column="1" HorizontalAlignment="Left" Margin="30.4,163.6,0,-5.2" Grid.Row="3" VerticalAlignment="Top" Width="87" Height="36" Click="UpdateBusLine_Click" RenderTransformOrigin="0.495,1.793"/>
            <Button x:Name="DeleteBusLine" Content="מחיקה" IsEnabled="False" HorizontalAlignment="Left" Margin="62,163.6,0,-6" Grid.Row="3" VerticalAlignment="Top" Width="92" RenderTransformOrigin="0.488,1.617" Height="36" Click="DeleteBusLine_Click"/>
        </Grid>
        <Button Content="לחזרה לתפריט הראשי" Grid.Column="1" HorizontalAlignment="Left" Margin="156,371,0,0" VerticalAlignment="Top" Width="132" Height="36" Click="Button_Click" RenderTransformOrigin="0.634,0.784"/>


        <Grid x:Name="AddBusLineGrid" Visibility="Hidden" HorizontalAlignment="Left" Margin="24,0,0,0" VerticalAlignment="Top" Height="506" Width="362">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="148.8"/>
                <ColumnDefinition Width="Auto" MinWidth="158.4"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" MinHeight="56.8"/>
                <RowDefinition Height="Auto" MinHeight="57.6"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto" MinHeight="173.6"/>
                <RowDefinition Height="Auto" MinHeight="173.6"/>
            </Grid.RowDefinitions>
            <Label Content=":אזור פעילות" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,9.6,16.8,19.6" Grid.Row="2" VerticalAlignment="Center" Height="26" Width="74"/>
            <ComboBox x:Name="areaAtLandComboBox" Grid.Column="0" HorizontalAlignment="Right" Margin="0,14.6,137.8,19.6" Grid.Row="2" VerticalAlignment="Center" Height="21" Width="74" Grid.ColumnSpan="2"/>

            <Label Content=":מזהה הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,10.2,15.8,21.4" Grid.Row="1" VerticalAlignment="Center" Height="26" Width="64"/>
            <Label x:Name="busIdLable" Content="מספר מזהה יינתן על ידי המערכת" Grid.Column="0" HorizontalAlignment="Right" Margin="0,10.2,123.8,19.4" Grid.Row="1" VerticalAlignment="Center" Height="28" Width="192" Grid.ColumnSpan="2"/>

            <Label Content=":מספר הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,5,15.8,26.8" Grid.Row="0" VerticalAlignment="Center" Height="25" Width="66"/>
            <TextBox x:Name="busNumLineTextBox" Grid.Column="0" HorizontalAlignment="Right" Margin="0,13,137.8,27.8" Grid.Row="0" Text="{Binding BusNumLine, Mode=OneWayToSource}" VerticalAlignment="Center" Height="16" Width="61" Grid.ColumnSpan="2" MaxLength="3" KeyDown="busNumLineTextBox_KeyDown"/>

            <Label Content=":תחנות הקו" Grid.Column="1" HorizontalAlignment="Right"  Margin="0,0,16.8,142.2" Grid.Row="3" VerticalAlignment="Bottom" Height="26" RenderTransformOrigin="1.012,-0.227" Width="69"/>
            <ListView x:Name="collectionOfStationListViewAdd" Grid.Column="0" DisplayMemberPath="CollectionOfStation" HorizontalAlignment="Left" Height="100" ItemsSource="{Binding}" Margin="10,31.4,0,42.2" Grid.Row="3" SelectionMode="Single" VerticalAlignment="Center" Width="326" Grid.ColumnSpan="2">
                <ListView.View>
                    <GridView>
                        <GridViewColumn x:Name="stationCodeAdd" Width="65" Header="קוד התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationCode}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="stationAddressAdd" Width="120" Header="כתובת">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding Address}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="stationNameAdd" Width="120" Header="שם התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationName}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
            <Label Content=":בחר תחנות " Grid.Column="1" HorizontalAlignment="Right"  Margin="0,0,9.8,0.2" Grid.Row="3" VerticalAlignment="Bottom" Height="26" RenderTransformOrigin="1.012,-0.227" Width="70"/>
            <ListView x:Name="AllStationListView" Grid.Column="0" ItemsSource="{Binding}" HorizontalAlignment="Left" Height="100" Margin="10,9.8,0,63.8" Grid.Row="4" SelectionMode="Single" VerticalAlignment="Center" Width="326" Grid.ColumnSpan="2" SelectionChanged="AllStationListView_SelectionChanged">
                <ListView.View>
                    <GridView>
                        <GridViewColumn x:Name="allStationCode" Width="65" Header="קוד התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationCode}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="allStationAddress" Width="120" Header="כתובת">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding Address}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                        <GridViewColumn x:Name="AllStationName" Width="120" Header="שם התחנה">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Margin="-6,-1" Text="{Binding StationName}"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
            <Button x:Name="AddBusLine" Content="הוספה" IsEnabled="False" HorizontalAlignment="Left" Margin="126,136.8,0,0" Grid.Row="4" VerticalAlignment="Top" Width="76" Height="26" Click="UpdateBusLine_Click" Grid.ColumnSpan="2"/>
        </Grid>
    </Grid>
</Window>
